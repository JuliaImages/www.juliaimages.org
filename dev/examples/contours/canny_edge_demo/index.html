<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Canny Edge Detection · JuliaImages</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../democards/gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="JuliaImages logo"/></a><div class="docs-package-name"><span class="docs-autofit">JuliaImages</span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><a class="tocitem" href="../../../install/">Getting started</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../../tutorials/quickstart/">Quickstart</a></li><li><a class="tocitem" href="../../../tutorials/arrays_colors/">Arrays, Numbers, and Colors</a></li><li><a class="tocitem" href="../../../tutorials/conversions_views/">Conversions vs. views</a></li><li><a class="tocitem" href="../../../tutorials/indexing/">Arrays: more advanced indexing</a></li></ul></li><li><span class="tocitem">Packages</span><ul><li><a class="tocitem" href="../../../pkgs/">Introduction</a></li><li><a class="tocitem" href="../../../pkgs/axes/">ImageAxes.jl</a></li><li><a class="tocitem" href="../../../pkgs/metadata/">ImageMetaData.jl</a></li><li><a class="tocitem" href="../../../pkgs/segmentation/">ImageSegmentation.jl</a></li><li><a class="tocitem" href="../../../pkgs/transformations/">ImageTransformations.jl</a></li><li><a class="tocitem" href="../../../pkgs/features/">ImageFeatures.jl</a></li></ul></li><li><a class="tocitem" href="../../">Demos</a></li><li><a class="tocitem" href="../../../function_reference/">References</a></li><li><a class="tocitem" href="../../../api_comparison/">Comparison with other image processing frameworks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Canny Edge Detection</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Canny Edge Detection</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaImages/juliaimages.github.io/blob/source/docs/examples/contours/canny_edge_demo.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Canny-Edge-Detection"><a class="docs-heading-anchor" href="#Canny-Edge-Detection">Canny Edge Detection</a><a id="Canny-Edge-Detection-1"></a><a class="docs-heading-anchor-permalink" href="#Canny-Edge-Detection" title="Permalink"></a></h1><p><a href="../canny_edge_demo.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <a href="https://nbviewer.jupyter.org/github/JuliaImages/juliaimages.github.io/blob/master/dev/examples/contours/canny_edge_demo.ipynb"><img src="https://img.shields.io/badge/show-nbviewer-579ACA.svg" alt="notebook"/></a> <img src="https://img.shields.io/badge/Author-Ashwani%20Rathee-blue" alt="Author"/> <img src="https://img.shields.io/badge/Author-Johnny%20Chen-blue" alt="Author"/> <img src="https://img.shields.io/date/1616198400" alt="Update time"/></p><p>Canny filter is still a powerful edge detector even though it&#39;s invented in 1986 [1]. This demo shows you how to use our newly developed package <code>ImageEdgeDetection</code> with Canny filter as an example.</p><pre><code class="language-">using Images, ImageEdgeDetection, Noise
using ImageEdgeDetection: Percentile
using TestImages</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p><code>ImageEdgeDetection.jl</code> rewrites many functions which previously exists in <code>Images.jl</code> and will be reexported in <code>Images</code> in the future, so you don&#39;t need to <code>using ImageEdgeDetection</code> explicitly after that.</p></div></div><p>In JuliaImages, any <code>AbstractArray</code> can be treated as an image. In this demo, we&#39;ll use a generated image for illustration purpose.</p><p>First, we create our test image.</p><pre><code class="language-">function make_simple_image(sz)
    img_gray = zeros(Gray{Float64}, sz...)
    fill_region = map(x-&gt;x÷4:3x÷4, sz)
    img_gray[fill_region...] .= 1
    img_rot = imrotate(img_gray, pi/4)

    # Corrupt the image with blur and noise, it makes our canny edge detection
    # function works a little harder since the canny filter is based on the idea
    # of finding gradients.
    img_gauss = imfilter(img_rot, Kernel.gaussian(2))

    # We use `salt_pepper` filter from `Noise.jl`. Salt-and-pepper noise in general
    # is a noise that modifies a pixel with two different values of noise.
    # Here we only random set pixels to white.
    img_noise = salt_pepper(img_gauss, 0.05, salt_prob = 0, pepper = 0.9)
end
img = make_simple_image((200, 200))</code></pre><p><code>ImageEdgeDetection</code> offers a unified API <code>detect_edges(img, alg)</code> with various algorithms. In this demo we&#39;ll show how to use the <code>Canny</code> operator [1]. First we&#39;ll need to create an algorithm instance of <code>Canny</code>.</p><pre><code class="language-">alg = Canny(spatial_scale=1, high=Percentile(80), low=Percentile(20))</code></pre><p>and then apply this instance as parameters to <code>detect_edges</code>, with the Julia <a href="https://docs.julialang.org/en/v1/manual/methods/#Methods">multiple dispatch mechanism</a>, <code>detect_edges</code> knows which algorithm implementation should be called with the <code>alg</code> information.</p><pre><code class="language-">edges = detect_edges(img, alg)
mosaicview(img, edges; nrow=1)</code></pre><p>Now let&#39;s see how different Canny parameters changes the result, and also see how it works on real world images:</p><pre><code class="language-">cameraman = testimage(&quot;cameraman&quot;)
canny(σ) = Canny(spatial_scale=σ, high=Percentile(80), low=Percentile(20))
simple_results = map(σ-&gt;detect_edges(img, canny(σ)), 1:5)
cameraman_results = map(σ-&gt;detect_edges(cameraman, canny(σ)), 1:5)

mosaicview(
    mosaicview(img, cameraman),
    map(mosaicview, simple_results, cameraman_results)...;
    nrow=1
)</code></pre><p>As you can see, higher <code>spatial_scale</code> tells the Canny operator to ignore small details and thus gives a &quot;clean&quot; edge result; whether it is a correct/useful edge result depends on how you interpret it.</p><h1 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h1><p>[1] J. Canny, &quot;A Computational Approach to Edge Detection,&quot; in <em>IEEE Transactions on Pattern Analysis and Machine Intelligence</em>, vol. PAMI-8, no. 6, pp. 679-698, Nov. 1986, doi: 10.1109/TPAMI.1986.4767851.</p><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 20 March 2021 07:44">Saturday 20 March 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
